<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <title>过滤器</title>
  <script type="text/javascript" src="../js/vue.js"></script>
  <script type="text/javascript" src="../js/dayjs.min.js"></script>
</head>
<body>
  <!--
过滤器：
  定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。
  语法：
      1.注册过滤器：Vue.filter(name,callback) 或 new Vue{filters:{}}
      2.使用过滤器：{{ xxx | 过滤器名}}  或  v-bind:属性 = "xxx | 过滤器名"
  备注：
      1.过滤器也可以接收额外参数、多个过滤器也可以串联
      2.并没有改变原本的数据, 是产生新的对应的数据
-->
  <!-- 准备好一个容器-->
  <div id="root14">
    <h2>显示格式化后的时间</h2>
    <!-- 计算属性实现 -->
    <h3>现在是：{{formatedTime}}</h3>
    <!-- methods实现 -->
    <h3>现在是：{{formatTime()}}</h3>
    <!-- 过滤器实现 -->
    <h3>现在是：{{now | format}}</h3>
    <!-- 过滤器实现（传参） -->
    <h3>现在是：{{now | format('YYYY-MM-DD') | mySlice}}</h3>
    <h3 >尚硅谷</h3>
  </div>

  <div id="root2">
    <h2></h2>
  </div>
</body>

<script type="text/javascript">
    Vue.config.productionTip = false
    //全局过滤器
    Vue.filter('mySlice',function (value) {
        return value.slice(0,4)
    })

    new Vue({
        el:'#root14',
        data:{
            now:Date.now()
        },
        computed:{
            formatedTime(){
                return dayjs().format('YYYY-MM-DD HH:mm:ss')
            }
        },
        methods:{
            formatTime(){
                return dayjs().format('YYYY-MM-DD HH:mm:ss')
            }
        },
        filters:{
            format(value,str='YYYY-MM-DD HH:mm:ss'){
                return  dayjs(value).format(str)
            }

        }
    })
</script>
</html>